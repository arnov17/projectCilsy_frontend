{"ast":null,"code":"var _jsxFileName = \"/home/kemosabe/Documents/sekolahfullstack/react/projectNext/src/components/product/Product.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Card, Button, FormControl, Form } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport numeral from \"numeral\";\nimport { connect } from \"react-redux\"; // import { addToCart } from \"../../redux/action/globalActionType\"\n\nimport { DataContext } from '../../context/DataContext';\nimport \"./Product.css\";\n\nconst Book = props => {\n  const {\n    book\n  } = props;\n  const [data, setData] = useState({});\n  useEffect(() => {\n    setData({ ...book,\n      bookCategory: { ...book.bookCategory\n      },\n      id: book.id,\n      title: book.title,\n      synopsis: book.synopsis,\n      price: book.price,\n      bookStatus: book.bookStatus,\n      authorName: book.authorName,\n      publicationDate: new Date()\n    });\n  }, []); // console.log(book)\n\n  const {\n    dataContext,\n    setDataContext\n  } = useContext(DataContext);\n\n  const addToCart = id => {\n    const carts = dataContext ? dataContext.carts : [];\n\n    if (book.id === id) {\n      carts.push({ ...book,\n        qty: 1\n      });\n    } // console.log(carts)\n\n\n    setDataContext({ ...dataContext,\n      carts\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cartProduct\",\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    id: \"cartBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Img, {\n    variant: \"top\",\n    src: \"https://www.seniberpikir.com/wp-content/uploads/Review-Buku-The-Subtle-Art-of-Not-Giving-a-Fuck-karya-mark-manson-2.jpg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LinkContainer, {\n    to: `/product/${book.id}`,\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, book.title))), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Author: \", book.authorName), /*#__PURE__*/React.createElement(Card.Text, {\n    className: \"text-secondary text-justify\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, data.synopsis)), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"font-weight-bold\",\n    style: {\n      color: \"#8052ff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, `Rp ${numeral(book.price).format(\"0,0\")}`), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => addToCart(book.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Add to cart\"))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    bookInCart: state.bookReducer.booksInCart\n  };\n}; // const mapDispatchToProps = (dispatch) => {\n//   return {\n//     addToCart: (book) => dispatch(addToCart(book)),\n//   };\n// };\n\n\nexport default connect(mapStateToProps // mapDispatchToProps\n)(withRouter(Book));","map":{"version":3,"sources":["/home/kemosabe/Documents/sekolahfullstack/react/projectNext/src/components/product/Product.js"],"names":["React","useState","useEffect","useContext","Card","Button","FormControl","Form","LinkContainer","withRouter","numeral","connect","DataContext","Book","props","book","data","setData","bookCategory","id","title","synopsis","price","bookStatus","authorName","publicationDate","Date","dataContext","setDataContext","addToCart","carts","push","qty","cursor","color","format","mapStateToProps","state","bookInCart","bookReducer","booksInCart"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext} from \"react\";\nimport { Card, Button, FormControl, Form } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { withRouter } from \"react-router-dom\";\nimport numeral from \"numeral\";\n\nimport { connect } from \"react-redux\";\n// import { addToCart } from \"../../redux/action/globalActionType\"\nimport {DataContext} from '../../context/DataContext'\nimport \"./Product.css\"\n\nconst Book = (props) => {\n  const { book } = props;\n  const [data, setData] = useState({});\n\n  useEffect(() => {\n    setData({\n      ...book,\n      bookCategory: { ...book.bookCategory },\n      id: book.id,\n      title: book.title,\n      synopsis: book.synopsis,\n      price: book.price,\n      bookStatus: book.bookStatus,\n      authorName: book.authorName,\n      publicationDate: new Date(),\n    });\n  }, []);\n\n// console.log(book)\n\nconst {dataContext, setDataContext} = useContext(DataContext)\nconst addToCart = id => {\n  const carts = dataContext ? dataContext.carts : []\n  if(book.id === id) {\n    carts.push({...book, qty: 1})\n  }\n  // console.log(carts)\n  setDataContext({\n    ...dataContext,\n    carts\n  })\n}\n  \n\n  return (\n    <div id=\"cartProduct\"className=\"col-md-4\">\n      <Card id=\"cartBody\">\n        <Card.Img\n          variant=\"top\"\n          src={\"https://www.seniberpikir.com/wp-content/uploads/Review-Buku-The-Subtle-Art-of-Not-Giving-a-Fuck-karya-mark-manson-2.jpg\"}\n        />\n\n        <Card.Body>\n          <LinkContainer to={`/product/${book.id}`} style={{ cursor: \"pointer\" }}>\n            <Card.Title>\n              <h2 className=\"text-primary\">{book.title}</h2>\n            </Card.Title>\n          </LinkContainer>\n          <h4 className=\"text-dark\">Author: {book.authorName}</h4>\n          <Card.Text className=\"text-secondary text-justify\">\n            <p>{data.synopsis}</p>\n          </Card.Text>\n            <h4 className=\"font-weight-bold\" style={{ color: \"#8052ff\" }}>\n              {`Rp ${numeral(book.price).format(\"0,0\")}`}\n            </h4>\n          <Button onClick={() => addToCart(book.id)}>Add to cart</Button>\n        </Card.Body>\n      </Card>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    bookInCart: state.bookReducer.booksInCart,\n  };\n};\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     addToCart: (book) => dispatch(addToCart(book)),\n//   };\n// };\n\nexport default connect(mapStateToProps, \n  // mapDispatchToProps\n  )(withRouter(Book));\n"]},"metadata":{},"sourceType":"module"}