{"ast":null,"code":"import * as actionTypes from \"../action/actionTypes\";\nconst initialState = {\n  admin: {\n    username: \"admin\",\n    password: \"admin\"\n  },\n  users: [{\n    name: \"arnov\",\n    username: \"arnov\",\n    password: 'arnov',\n    saldo: 1000000\n  }],\n  signinResponse: false,\n  signedUser: {},\n  books: [],\n  book: {},\n  booksInCart: [],\n  totalOrder: 1,\n  PriceCart: 0\n};\n\nconst book = (state = initialState, action) => {\n  // console.log(state.users, 'state useres')\n  switch (action.type) {\n    case actionTypes.SIGNUP:\n      return { ...state,\n        users: [...state.users, action.payload]\n      };\n\n    case actionTypes.PRICE_CART:\n      return { ...state,\n        PriceCart: action.payload\n      };\n\n    case actionTypes.SIGNIN:\n      const findUser = state.users.find(user => user.username === action.payload.username && user.password === action.payload.password) ? true : false;\n      const filterUser = state.users.filter(user => user.username === action.payload.username && user.password === action.payload.password);\n      return { ...state,\n        signinResponse: findUser,\n        signedUser: filterUser\n      };\n\n    case actionTypes.SIGNOUT:\n      return { ...state,\n        signinResponse: false,\n        signedUser: {},\n        booksInCart: []\n      };\n\n    case actionTypes.GET_BOOK:\n      return { ...state,\n        books: action.payload\n      };\n\n    case actionTypes.GET_BOOK_BY_ID:\n      return { ...state,\n        book: action.payload\n      };\n\n    case actionTypes.UPDATE_BOOK:\n      return { ...state\n      };\n\n    case actionTypes.DELETE_BOOK:\n      return { ...state\n      };\n\n    case actionTypes.ADD_TO_CART:\n      console.log(\"action.payload\", action.payload); // const filterProduct = state.books.filter((val) => val.id === action.payload.id);\n      // filterProduct[0].qty = 1\n\n      let temp = state.booksInCart.length > 0 ? state.booksInCart : [];\n      const indexAddCart = temp.findIndex(val => val.id === action.payload.id);\n\n      if (indexAddCart >= 0) {\n        temp[indexAddCart].qty = temp[indexAddCart].qty + 1;\n      } else {\n        const findproduct = state.books.find(val => val.id === action.payload.id);\n        temp.push({ ...findproduct,\n          qty: 1\n        });\n      }\n\n      return { ...state,\n        booksInCart: temp //booksInCart: state.booksInCart.push(action.payload),\n\n      };\n\n    case actionTypes.PLUS_ORDER:\n      const index = state.booksInCart.findIndex(val => val.id === action.payload);\n      const newBooksInCart = state.booksInCart;\n      newBooksInCart[index].qty = state.booksInCart[index].qty + 1; // console.log(\"action.payload qty\", action.payload);\n\n      return { ...state,\n        booksInCart: newBooksInCart\n      };\n\n    case actionTypes.MINUS_ORDER:\n      if (state.totalOrder > 0) {\n        return { ...state,\n          booksInCart: state.booksInCart.qty + 1\n        };\n      }\n\n    default:\n      return initialState;\n  }\n};\n\nexport default book;","map":{"version":3,"sources":["/home/kemosabe/Documents/sekolahfullstack/react/projectNext/src/redux/reducer/globalReducer.js"],"names":["actionTypes","initialState","admin","username","password","users","name","saldo","signinResponse","signedUser","books","book","booksInCart","totalOrder","PriceCart","state","action","type","SIGNUP","payload","PRICE_CART","SIGNIN","findUser","find","user","filterUser","filter","SIGNOUT","GET_BOOK","GET_BOOK_BY_ID","UPDATE_BOOK","DELETE_BOOK","ADD_TO_CART","console","log","temp","length","indexAddCart","findIndex","val","id","qty","findproduct","push","PLUS_ORDER","index","newBooksInCart","MINUS_ORDER"],"mappings":"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","sourcesContent":["import * as actionTypes from \"../action/actionTypes\";\n\nconst initialState = {\n  admin: { username: \"admin\", password: \"admin\" },\n  users: [{name: \"arnov\", username: \"arnov\", password : 'arnov', saldo : 1000000}],\n  signinResponse: false,\n  signedUser: {},\n  books: [],\n  book: {},\n  booksInCart: [],\n  totalOrder : 1,\n  PriceCart : 0\n};\n\nconst book = (state = initialState, action) => {\n  // console.log(state.users, 'state useres')\n  switch (action.type) {\n    case actionTypes.SIGNUP:\n      return {\n        ...state,\n        users: [...state.users, action.payload],\n      };\n    \n    case actionTypes.PRICE_CART :\n      return {\n        ...state,\n        PriceCart : action.payload\n      }\n    case actionTypes.SIGNIN:\n      const findUser = state.users.find(\n        (user) =>\n          user.username === action.payload.username &&\n          user.password === action.payload.password\n      )\n        ? true\n        : false;\n\n      const filterUser = state.users.filter(\n        (user) =>\n          user.username === action.payload.username &&\n          user.password === action.payload.password\n      );\n\n      return {\n        ...state,\n        signinResponse: findUser,\n        signedUser: filterUser,\n      };\n\n    case actionTypes.SIGNOUT:\n      return {\n        ...state,\n        signinResponse: false,\n        signedUser: {},\n        booksInCart: []\n      };\n\n\n    case actionTypes.GET_BOOK:\n      return {\n        ...state,\n        books: action.payload,\n      };\n    case actionTypes.GET_BOOK_BY_ID:\n      return {\n        ...state,\n        book: action.payload,\n      };\n    case actionTypes.UPDATE_BOOK:\n      return {\n        ...state,\n      };\n    case actionTypes.DELETE_BOOK:\n      return {\n        ...state,\n      };\n    case actionTypes.ADD_TO_CART:\n      console.log(\"action.payload\", action.payload);\n    // const filterProduct = state.books.filter((val) => val.id === action.payload.id);\n    // filterProduct[0].qty = 1\n    let temp = state.booksInCart.length > 0 ? state.booksInCart : []\n    const indexAddCart = temp.findIndex((val) => val.id === action.payload.id)\n    if(indexAddCart >= 0) {\n      temp[indexAddCart].qty = temp[indexAddCart].qty + 1\n    } else {\n      const findproduct = state.books.find((val) => val.id === action.payload.id);\n      temp.push({...findproduct, qty : 1})\n    }\n\n    return {\n      ...state,\n      booksInCart: temp,\n      //booksInCart: state.booksInCart.push(action.payload),\n      };\n    \n    case actionTypes.PLUS_ORDER:\n      const index = state.booksInCart.findIndex(val => val.id === action.payload)\n      const newBooksInCart = state.booksInCart\n      newBooksInCart[index].qty = state.booksInCart[index].qty + 1\n      // console.log(\"action.payload qty\", action.payload);\n      return {\n        ...state,\n        booksInCart : newBooksInCart\n      }\n        \n      case actionTypes.MINUS_ORDER:\n      if(state.totalOrder > 0 ) {\n        return {\n          ...state,\n          booksInCart : state.booksInCart.qty + 1\n          }\n      }\n    default:\n      return initialState;\n  }\n};\n\nexport default book;\n"]},"metadata":{},"sourceType":"module"}